@url_dev=http://localhost:3055
@api_key=niggar-api-key
@client_id=69074f5479cbc75d6571e355
@authorization=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTA3NGY1NDc5Y2JjNzVkNjU3MWUzNTUiLCJlbWFpbCI6IndlbHRlcmlhbEBnbWFpbC5jb20iLCJuYW1lIjoiVGhhaSBEaW5oIiwiaWF0IjoxNzYyMDg3MzM1LCJleHAiOjE3NjMzODMzMzV9.pZk63-gb0HXC5DOqyhmJTTFP2PN4in8zuVg83Jn16CA

### Create Discount Code
POST {{url_dev}}/v1/api/discount/
Content-Type: application/json
x-api-key: {{api_key}}
x-client-id: {{client_id}}
authorization: {{authorization}}

{
    "code": "SAVESpecific",
    "name": "20% Off Everything",
    "description": "Get 20% off on all products",
    "type": "percentage",
    "value": 20,
    "start_date": "2025-11-30T00:00:00.000Z",
    "end_date": "2025-12-30T23:59:59.999Z",
    "is_active": true,
    "min_order_value": 100,
    "max_uses": 100,
    "max_uses_per_user": 1,
    "applies_to": "specific",
    "max_value": 50,
    "product_ids": ["690751d279cbc75d6571e36d", "690751d579cbc75d6571e375"]
}

### Create Fixed Amount Discount Code
POST {{url_dev}}/v1/api/discount/
Content-Type: application/json
x-api-key: {{api_key}}
x-client-id: {{client_id}}
authorization: {{authorization}}

{
    "code": "SAVE10",
    "name": "$10 Off",
    "description": "Get $10 off on orders over $50",
    "type": "FIXED_AMOUNT",
    "value": 10,
    "start_date": "2025-10-30T00:00:00.000Z",
    "end_date": "2025-11-30T23:59:59.999Z",
    "is_active": true,
    "min_order_value": 50,
    "max_uses": 200,
    "max_uses_per_user": 2,
    "applies_to": "ALL"
}

### Get All Discount Codes for Shop
GET {{url_dev}}/v1/api/discount/shop/all?limit=10&page=1&sort=createdAt&is_active=true
Content-Type: application/json
x-api-key: {{api_key}}
x-client-id: {{client_id}}
authorization: {{authorization}}

### Get Discount Code with Products
GET {{url_dev}}/v1/api/discount/code/SAVE20?limit=10&page=1
Content-Type: application/json
x-api-key: {{api_key}}
x-client-id: {{client_id}}
authorization: {{authorization}}

### Calculate Discount Amount
POST {{url_dev}}/v1/api/discount/amount/690771febf6dbfe0ac40b634
Content-Type: application/json
x-api-key: {{api_key}}
x-client-id: {{client_id}}
authorization: {{authorization}}

{
    "shopId": "69074f5479cbc75d6571e355",
    "products": [
        {
            "productId": "690751d279cbc75d6571e36d",
            "price": 100,
            "quantity": 2
        },
        {
            "productId": "690751d579cbc75d6571e375",
            "price": 50,
            "quantity": 1
        }
    ]
}

### Update Discount Code
PATCH {{url_dev}}/v1/api/discount/69045f53318d2ca07659fd69
Content-Type: application/json
x-api-key: {{api_key}}
x-client-id: {{client_id}}
authorization: {{authorization}}

{
    "name": "Updated 25% Off Everything",
    "description": "Get 25% off on all products - extended promotion",
    "value": 25,
    "max_value": 75
}

### Delete Discount Code
DELETE {{url_dev}}/v1/api/discount/[DISCOUNT_ID_HERE]
Content-Type: application/json
x-api-key: {{api_key}}
x-client-id: {{client_id}}
authorization: {{authorization}}

### Cancel Discount Code Usage
POST {{url_dev}}/v1/api/discount/cancel/[DISCOUNT_ID_HERE]
Content-Type: application/json
x-api-key: {{api_key}}
x-client-id: {{client_id}}
authorization: {{authorization}}

{
    "shopId": "68faf8be0aed27e75e01a594"
}
